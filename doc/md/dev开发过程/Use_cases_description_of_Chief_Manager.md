###                   进销存系统用例文档

####                     查看导出报表用例描述

| **ID**   | 1                                        | **名称**      | 查看导出报表    |
| -------- | ---------------------------------------- | ----------- | --------- |
| **创建者**  | 刘雅歆                                      | **最后一次更新者** | 刘雅歆       |
| **创建日期** | 2017.9.14                                | **最后更新日期**  | 2017.9.17 |
| **参与者**  | 总经理，目标是方便地阅读报表以便制定合理的销售策略                |             |           |
| **触发条件** | 参与者（总经理）决定查看报表                           |             |           |
| **前置条件** | 用户必须已经登录系统                               |             |           |
| **后置条件** | 系统中的销售数据不会发生改变，但系统记录日志会增加一条记录描述本次查看的相关信息 |             |           |
| **优先级**  | 高                                        |             |           |
| **正常流程** | 1.用户登录系统<br/>2.用户决定查看报表<br/>3.用户选择需要查看的报表类型为销售明细表、经营历程表、经营情况表中的一种表格，系统读取报表类型<br/>4.1 系统读取报表类型为销售明细表，那么系统要求用户选择**时间区间，商品名，客户，业务员，仓库**中的一个或多个条件作为筛选条件<br/>4.2 系统读取报表类型为经营历程表，那么系统要求用户选择**时间区间，单据类型，客户，业务员，仓库**中的一个或多个作为筛选条件<br/>4.3  系统读取报表类型为经营情况表，那么系统要求用户选择时间区间作为筛选条件<br/>5.   系统读取筛选条件<br/>6.1 客户选择销售明细表，那么系统以列表形式输出符合筛选条件的**时间（精确到天），商品名，型号，数量，单价，总额**共六种数据信息<br/>6.2 客户选择经营历程表，那么系统输出符合筛选条件的销售类单据（销售出货单，销售退货单）、进货类单据（进货单，进货退货单）、财务类单据（付款单，收款单，现金费用单）和库存类单据（报溢单，报损单，赠送单）<br/>6.3  客户选择经营情况表，那么系统输出符合筛选条件的：1.**收入类**：**销售收入、商品类收入**（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示**折让后总收入**，并显示折让了多少。**2. ****支出类：销售成本、商品类支出**（商品报损 商品赠出）。支出类显示**总支出**。**3. ****利润：折让后总收入****-****总支出。**共三种信息<br/>7.用户完成报表阅读并选择继续<br/>8.系统询问用户是否需要导出报表<br/>9.如果用户要求导出报表，那么系统将报表以excel形式导出到本地，否则继续下一流程<br/>10.系统询问用户是否需要继续查询报表<br/>11.如果用户选择需要，那么返回第3步<br/>12.系统日志根据用户查询的信息增加一条记录 |             |           |
|          | 1a、权限不足：系统提示权限不足并拒绝提供报表<br/>5a、筛选条件不合理（如选择的商品名不存在）系统提示筛选条件有误并清空当前条件等待重新输入<br/>5b、当前筛选条件下没有符合要求的数据系统提示没有满足条件的报表 |             |           |
| **特殊需求** | 1.如果未来加入新的报表类型系统应当允许查询                   |             |           |

#### 审批单据用例描述

| **ID**   | 2                                        | **名称**      | 审批单据      |
| -------- | ---------------------------------------- | ----------- | --------- |
| **创建者**  | 刘雅歆                                      | **最后一次更新者** | 刘雅歆       |
| **创建日期** | 2017.9.14                                | **最后更新日期**  | 2017.9.17 |
| **参与者**  | 总经理，目标是及时准确地审批其他系统用户提交的报表以保证相关工作顺利进行     |             |           |
| **触发条件** | 参与者（总经理）决定审批单据                           |             |           |
| **前置条件** | 用户必须已经登录系统                               |             |           |
| **后置条件** | 修改系统中被审批单据的状态，从待审批变为已审批，并给单据提交用户发送信息表明单据当前状态，系统记录日志会增加一条记录描述单据被审批过程的信息 |             |           |
| **优先级**  | 高                                        |             |           |
| **正常流程** | 1.用户登录系统<br/>2.用户决定审批单据<br/>3.用户向系统要求审批单据<br/>4.系统读取当前提交单据列表<br/>5.系统输出当前提交单据列表<br/>6.用户选择一个或多个单据进行审批，可以有批准、不批准、两种选项<br/>7.用户提交当前单据审批结果<br/>8.系统修改被审批单据状态，从提交改为已审批<br/>9.系统修改被审批通过单据对应的相关数据：库存赠送单：根据单据修改商品对应的库存数量库存报溢单：根据单据增加该商品的库存数量库存报损单：根据单据减少该商品的库存数量进货单/进货退货单/销售单/销售退货单：根据单据修改库存数据和客户的应收应付数据收款单/付款单：根据单据修改客户的应付数据<br/>10.系统询问用户是否需要继续审批其他单据<br/>11.系统读取用户反馈，如果需要则返回第4条，如果不需要则结束当前操作<br/>12.系统日志中增加本次单据审核的相关记录 |             |           |
| **扩展流程** | 3a、权限不足：<br/>系统提示权限不足并拒绝提供单据         <br/>4a、提交单据列表为空        <br/>1.系统提示提交单据列表为空并拒绝继续进行之后的操作<br/>11a、当前筛选条件下没有更多单据<br/>系统不再询问而是显示提交单据为空 |             |           |
| **特殊需求** | 1.未来如果增加单据类型则系统应该支持新类型单据的审批              |             |           |

####查询日志用例描述

| **ID**   | 3                                        | **名称**      | 查询日志      |
| -------- | ---------------------------------------- | ----------- | --------- |
| **创建者**  | 刘雅歆                                      | **最后一次更新者** | 刘雅歆       |
| **创建日期** | 2017.9.14                                | **最后更新日期**  | 2017.9.17 |
| **参与者**  | 总经理，目标是观察其他用户的交易记录，监测系统运行状况              |             |           |
| **触发条件** | 参与者决定调取日志内容                              |             |           |
| **前置条件** | 用户必须已经登录系统                               |             |           |
| **后置条件** | 数据项不会发生变化，系统日志中增加一条记录，记录查询日志的用户和时间       |             |           |
| **优先级**  | 高                                        |             |           |
| **正常流程** | 1.用户登录系统<br/>2.用户决定查询日志<br/>3.用户向系统要求查询数据<br/>4.系统调取所有的系统日志<br/>5.系统输出所有的系统日志<br/>6.用户阅读日志后关闭系统日志<br/>7.系统在日志中增加一条记录，记录查询日志的用户和时间 |             |           |
| **扩展流程** | 3a、权限不足：<br/>系统提示权限不足并拒绝提供日志             |             |           |
| **特殊需求** | 无                                        |             |           |

#### 制定销售策略用例描述

| **ID**   | 4                                        | **名称**      | 制定促销策略    |
| -------- | ---------------------------------------- | ----------- | --------- |
| **创建者**  | 刘雅歆                                      | **最后一次更新者** | 刘雅歆       |
| **创建日期** | 2017.9.14                                | **最后更新日期**  | 2017.9.15 |
| **参与者**  | 总经理或财务管理人员，目标是提高销售总额，增加公司盈利              |             |           |
| **触发条件** | 参与者根据当前经营情况决定制定促销策略                      |             |           |
| **前置条件** | 用户必须已经登录系统                               |             |           |
| **后置条件** | 促销策略针对的用户的价格折让数、可用代金券数量、可获得赠品参数被更新，策略针对的商品的价格被更新、不同总价对应的促销策略被更新 |             |           |
| **优先级**  | 高                                        |             |           |
| **正常流程** | 1.总经理登录系统<br/>2.总经理要求制定促销策略<br/>3.系统提示总经理选择活动的开始时间和结束时间<br/>4.总经理输入开始时间和结束时间<br/>5.系统提示总经理选择要制定的促销策略类型<br/>6.总经理选择一种促销策略类型<br/>7.1 系统读取总经理选择的促销类型是针对不同级别的用户赠送赠品：<br/>1.系统提示总经理选择针对的用户级别<br/>2.总经理输入针对的用户级别<br/>3.系统提示总经理选择赠品名称、数量<br/>4.总经理输入赠品名称、数量<br/>5.系统获取总经理的输入，记录赠品信息<br/>6.系统显示赠品列表<br/>7.系统生成库存赠送单<br/>7.2 系统读取总经理选择的促销类型是针对不同级别的用户提供价格折让<br/>1.系统提示总经理选择针对的用户级别<br/>2.总经理输入针对的用户级别<br/>3.系统读取总经理选择的用户级别<br/>4.系统提示总经理输入价格折让额度<br/>5.总经理输入价格折让额度<br/>6.系统读取价格折让额度，记录价格折让信息<br/>7.系统显示价格折让列表<br/>7.3 系统读取总经理选择的是针对不同级别的用户提供代金券<br/>1.系统提示总经理选择针对的用户级别<br/>2.总经理输入针对的用户级别系统<br/>3.读取总经理选择的用户级别<br/>4.系统提示总经理输入代金券面额、张数<br/>5.总经理输入代金券面额、张数<br/>6.系统读取代金券面额、张数，记录代金券额度信息<br/>7.系统显示当前不同级别客户可用的代金券列表<br/>7.4 系统读取总经理选择的是制定特价包（组合商品降价）<br/>1.系统提示总经理选择包内商品、每个商品的降价额度<br/>2.总经理输入包内商品及每个商品的降价额度<br/>3.系统读取包内商品及每个商品的降价额度，记录特价包信息<br/>4.系统显示当前特价包列表<br/>7.5 系统读取总经理选择的促销类型是针对不同总价赠送赠品：<br/>1.系统提示总经理选择针对的总价区间<br/>2.总经理输入针对的总价区间<br/>3.系统提示总经理选择赠品名称、数量<br/>4.总经理输入赠品名称、数量<br/>5.系统获取总经理的输入，记录赠品信息<br/>6.系统显示赠品列表<br/7.系统生成库存赠送单<br/>>7.6 系统读取总经理选择的是针对不同总价提供代金券<br/>1.系统提示总经理选择针对的总价区间<br/>2.总经理输入针对的总价区间<br/>3.系统读取总经理选择的总价区间<br/>4.系统提示总经理输入代金券面额、张数<br/>5.总经理输入代金券面额、张数<br/>6.系统读取代金券面额、张数，记录代金券额度信息<br/>7.系统显示当前不同总价可用的代金券列表<br/>8.重复第2步~第7步直到总经理完成所有策略制定 |             |           |
| **扩展流程** | 7.1.6a、总经理要求移除赠品    <br/>   1.系统显示目前存在的赠品列表      <br/>  2.总经理选择要移除的赠品     <br/>   3.系统读取总经理输入，修改赠品信息        <br/>      4.系统显示赠品列表已修改<br/>7.2.7a、总经理要求修改价格折让信息 <br/>       1.总经理选择价格折让信息并修改数据        <br/>2.系统读取总经理修改的信息项，修改价格折让信息       <br/> 3.系统显示信息已修改<br/>7.3.7a、总经理要求修改代金券额度或用户类型      <br/>  1.总经理选择代金券信息并修改数据 <br/>       2.系统读取修改的信息项，修改代金券额度或用户类型      <br/>  3.系统显示信息已修改<br/>7.4.4a、总经理要求修改特价包信息     <br/>   1.总经理选择特价包信息并修改数据     <br/>   2.系统读取修改的信息项，修改特价包信息    <br/>    3.系统显示信息已修改<br/>7.5.6a、总经理要求移除赠品    <br/>    1.系统显示目前存在的赠品列表     <br/>   2.总经理选择要移除的赠品        <br/>3.系统读取总经理输入，修改赠品信息           <br/>   4.系统显示赠品列表已修改<br/>7.6.7a、总经理要求修改代金券额度或针对的总价     <br/>   1.总经理选择代金券信息并修改数据   <br/>     2.系统读取修改的信息项，修改代金券额度或针对的总价       <br/> 3.系统显示信息已修改 |             |           |
| **特殊需求** | 1.未来如果增加新的策略类型应支持对新策略的制定                 |             |           |